{"ast":null,"code":"import _slicedToArray from \"/Users/solomoneke/Desktop/google-books-search/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/solomoneke/Desktop/google-books-search/client/src/pages/SavedPg.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport API from \"../utils/API\";\nimport JumboTron from \"../components/JumboTron\";\nimport { BookList, BookListItem } from \"../components/BookList\";\n\nfunction SavedPg() {\n  var _this = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      savedBooks = _useState2[0],\n      setSavedBooks = _useState2[1];\n\n  useEffect(function () {\n    loadBooks();\n  }, []);\n\n  var loadBooks = function loadBooks() {\n    API.getBooks(\"/api/books\").then(function (res) {\n      return setSavedBooks(res.data);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n\n  var handleDeleteBook = function handleDeleteBook(id) {\n    API.deleteBook(id).then(function (res) {\n      loadBooks();\n      console.log(\"Book deleted\");\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(JumboTron, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"display-4 jumboText\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 17\n    }\n  }, \"Your Saved Books\")), /*#__PURE__*/React.createElement(BookList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, savedBooks.map(function (book) {\n    return /*#__PURE__*/React.createElement(BookListItem, {\n      key: book._id,\n      title: book.title,\n      description: book.description,\n      link: book.link,\n      image: book.image,\n      authors: book.authors.join(\", \"),\n      Button: function Button() {\n        return /*#__PURE__*/React.createElement(\"button\", {\n          onClick: function onClick() {\n            return handleDeleteBook(book._id);\n          },\n          className: \"btn deleteBtn\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 29\n          }\n        }, \"Delete\");\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 21\n      }\n    });\n  })));\n}\n\nexport default SavedPg;","map":{"version":3,"sources":["/Users/solomoneke/Desktop/google-books-search/client/src/pages/SavedPg.jsx"],"names":["React","useState","useEffect","API","JumboTron","BookList","BookListItem","SavedPg","savedBooks","setSavedBooks","loadBooks","getBooks","then","res","data","catch","err","console","log","handleDeleteBook","id","deleteBook","map","book","_id","title","description","link","image","authors","join"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AAEA,OAAOC,GAAP,MAAgB,cAAhB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,SAASC,QAAT,EAAmBC,YAAnB,QAAuC,wBAAvC;;AAEA,SAASC,OAAT,GAAmB;AAAA;;AAAA,kBAEqBN,QAAQ,CAAC,EAAD,CAF7B;AAAA;AAAA,MAERO,UAFQ;AAAA,MAEIC,aAFJ;;AAIfP,EAAAA,SAAS,CAAC,YAAM;AACZQ,IAAAA,SAAS;AACZ,GAFQ,EAEN,EAFM,CAAT;;AAIA,MAAMA,SAAS,GAAG,SAAZA,SAAY,GAAM;AACpBP,IAAAA,GAAG,CAACQ,QAAJ,CAAa,YAAb,EACKC,IADL,CACU,UAAAC,GAAG;AAAA,aACLJ,aAAa,CAACI,GAAG,CAACC,IAAL,CADR;AAAA,KADb,EAIKC,KAJL,CAIW,UAAAC,GAAG;AAAA,aAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ;AAAA,KAJd;AAKH,GAND;;AAQA,MAAMG,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAAC,EAAE,EAAI;AAC3BjB,IAAAA,GAAG,CAACkB,UAAJ,CAAeD,EAAf,EACKR,IADL,CACU,UAACC,GAAD,EAAS;AACXH,MAAAA,SAAS;AACTO,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACH,KAJL,EAKKH,KALL,CAKW,UAAAC,GAAG;AAAA,aAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ;AAAA,KALd;AAMH,GAPD;;AASA,sBACI,uDACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,qBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,CADJ,eAII,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEKR,UAAU,CAACc,GAAX,CAAe,UAAAC,IAAI;AAAA,wBAEhB,oBAAC,YAAD;AACI,MAAA,GAAG,EAAEA,IAAI,CAACC,GADd;AAEI,MAAA,KAAK,EAAED,IAAI,CAACE,KAFhB;AAGI,MAAA,WAAW,EAAEF,IAAI,CAACG,WAHtB;AAII,MAAA,IAAI,EAAEH,IAAI,CAACI,IAJf;AAKI,MAAA,KAAK,EAAEJ,IAAI,CAACK,KALhB;AAMI,MAAA,OAAO,EAAEL,IAAI,CAACM,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CANb;AAOI,MAAA,MAAM,EAAE;AAAA,4BACJ;AACI,UAAA,OAAO,EAAE;AAAA,mBAAMX,gBAAgB,CAACI,IAAI,CAACC,GAAN,CAAtB;AAAA,WADb;AAEI,UAAA,SAAS,EAAC,eAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADI;AAAA,OAPZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFgB;AAAA,GAAnB,CAFL,CAJJ,CADJ;AA4BH;;AAED,eAAejB,OAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nimport API from \"../utils/API\";\nimport JumboTron from \"../components/JumboTron\";\nimport { BookList, BookListItem } from \"../components/BookList\";\n\nfunction SavedPg() {\n\n    const [savedBooks, setSavedBooks] = useState([]);\n\n    useEffect(() => {\n        loadBooks()\n    }, [])\n\n    const loadBooks = () => {\n        API.getBooks(\"/api/books\")\n            .then(res =>\n                setSavedBooks(res.data)\n            )\n            .catch(err => console.log(err));\n    }\n\n    const handleDeleteBook = id => {\n        API.deleteBook(id)\n            .then((res) => {\n                loadBooks();\n                console.log(\"Book deleted\")\n            })\n            .catch(err => console.log(err));\n    }\n\n    return (\n        <>\n            <JumboTron>\n                <h1 className=\"display-4 jumboText\">Your Saved Books</h1>\n            </JumboTron>\n            <BookList>\n\n                {savedBooks.map(book => (\n\n                    <BookListItem\n                        key={book._id}\n                        title={book.title}\n                        description={book.description}\n                        link={book.link}\n                        image={book.image}\n                        authors={book.authors.join(\", \")}\n                        Button={() => (\n                            <button\n                                onClick={() => handleDeleteBook(book._id)}\n                                className=\"btn deleteBtn\">\n                                Delete\n                            </button>\n                        )}\n                    />\n                ))}\n            </BookList>\n        </>\n    );\n}\n\nexport default SavedPg;\n"]},"metadata":{},"sourceType":"module"}