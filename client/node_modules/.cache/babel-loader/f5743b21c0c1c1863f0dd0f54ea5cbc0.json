{"ast":null,"code":"import _slicedToArray from \"/Users/solomoneke/Desktop/google-books-search/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/solomoneke/Desktop/google-books-search/client/src/pages/SearchPg.jsx\";\nimport React, { useState } from \"react\";\nimport { Container, Row, Col } from \"../components/Grid\";\nimport JumboTron from \"../components/JumboTron\";\nimport SearchBox from \"../components/SearchBox\";\nimport Button from \"../components/Button\";\nimport { BookList, BookListItem } from \"../components/BookList\";\nimport API from \"../utils/API\";\n\nfunction SearchPg() {\n  var _this = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      books = _useState2[0],\n      setBooks = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      bookSearch = _useState4[0],\n      setBookSearch = _useState4[1];\n\n  var handleInputChange = function handleInputChange(event) {\n    var value = event.target.value;\n    setBookSearch(value);\n  };\n\n  var handleFormSubmit = function handleFormSubmit(event) {\n    event.preventDefault();\n    API.search(bookSearch).then(function (res) {\n      return setBooks(res.data.items);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n\n  var handleSaveBook = function handleSaveBook(id) {\n    var book = books.find(function (book) {\n      return book.id === id;\n    });\n    API.saveBook({\n      title: book.volumeInfo.title,\n      authors: book.volumeInfo.authors,\n      description: book.volumeInfo.description,\n      link: book.volumeInfo.infoLink,\n      image: book.volumeInfo.imageLinks.thumbnail\n    }).then(function () {\n      alert(\"\".concat(book.volumeInfo.title, \" was saved to your library!\"));\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    size: \"md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(JumboTron, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"display-4 jumboText\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 15\n    }\n  }, \"Google Book Search\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"a\", {\n    className: \"jumboText\",\n    href: \"https://developers.google.com/books\",\n    target: \"blank\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 15\n    }\n  }, \"Powered by Google Books API\")), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    size: \"xs-9 sm-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(SearchBox, {\n    name: \"BookSearch\",\n    value: bookSearch,\n    onChange: handleInputChange,\n    placeholder: \"Search for a Book\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    size: \"xs-3 sm-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleFormSubmit,\n    type: \"success\",\n    className: \"input-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  }, \"Search\"))))))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    size: \"xs-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(BookList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, books.map(function (book) {\n    return /*#__PURE__*/React.createElement(BookListItem, {\n      key: book.id,\n      title: book.volumeInfo.title,\n      authors: !book.volumeInfo.authors ? \"No author listed\" : book.volumeInfo.authors.join(\", \"),\n      description: book.volumeInfo.description,\n      link: book.volumeInfo.infoLink,\n      image: !book.volumeInfo.imageLinks ? \"https://placehold.it/100x100\" : book.volumeInfo.imageLinks.thumbnail,\n      Button: function Button() {\n        return /*#__PURE__*/React.createElement(\"button\", {\n          onClick: function onClick() {\n            return handleSaveBook(book.id);\n          },\n          className: \"btn saveBtn\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 21\n          }\n        }, \"Save\");\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    });\n  }))))));\n}\n\nexport default SearchPg;","map":{"version":3,"sources":["/Users/solomoneke/Desktop/google-books-search/client/src/pages/SearchPg.jsx"],"names":["React","useState","Container","Row","Col","JumboTron","SearchBox","Button","BookList","BookListItem","API","SearchPg","books","setBooks","bookSearch","setBookSearch","handleInputChange","event","value","target","handleFormSubmit","preventDefault","search","then","res","data","items","catch","err","console","log","handleSaveBook","id","book","find","saveBook","title","volumeInfo","authors","description","link","infoLink","image","imageLinks","thumbnail","alert","map","join"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\n\nimport { Container, Row, Col } from \"../components/Grid\";\nimport JumboTron from \"../components/JumboTron\";\nimport SearchBox from \"../components/SearchBox\";\nimport Button from \"../components/Button\";\nimport { BookList, BookListItem } from \"../components/BookList\";\nimport API from \"../utils/API\";\n\nfunction SearchPg() {\n  const [books, setBooks] = useState([]);\n  const [bookSearch, setBookSearch] = useState(\"\");\n\n  const handleInputChange = event => {\n    const { value } = event.target;\n    setBookSearch(value);\n  };\n\n  const handleFormSubmit = event => {\n    event.preventDefault();\n    API.search(bookSearch)\n      .then(res => setBooks(res.data.items))\n      .catch(err => console.log(err));\n  }\n\n  const handleSaveBook = id => {\n    const book = books.find(book => book.id === id);\n\n    API.saveBook({\n      title: book.volumeInfo.title,\n      authors: book.volumeInfo.authors,\n      description: book.volumeInfo.description,\n      link: book.volumeInfo.infoLink,\n      image: book.volumeInfo.imageLinks.thumbnail\n    })\n      .then(() => { alert(`${book.volumeInfo.title} was saved to your library!`) }\n      );\n  }\n\n  return (\n    <>\n      <Container>\n        <Row>\n          <Col size=\"md-12\">\n            <JumboTron>\n              <h1 className=\"display-4 jumboText\">Google Book Search</h1>\n              <br></br>\n\n              <a className=\"jumboText\" href=\"https://developers.google.com/books\" target=\"blank\">Powered by Google Books API</a>\n            </JumboTron>\n            <form>\n              <Container>\n                <Row>\n                  <Col size=\"xs-9 sm-10\">\n                    <SearchBox\n                      name=\"BookSearch\"\n                      value={bookSearch}\n                      onChange={handleInputChange}\n                      placeholder=\"Search for a Book\"\n                    />\n                  </Col>\n                  <Col size=\"xs-3 sm-2\">\n                    <Button\n                      onClick={handleFormSubmit}\n                      type=\"success\"\n                      className=\"input-lg\">\n                      Search\n                    </Button>\n                  </Col>\n                </Row>\n              </Container>\n            </form>\n          </Col>\n        </Row>\n        <Row>\n          <Col size=\"xs-10\">\n            <BookList>\n              {books.map(book => (\n                <BookListItem\n                  key={book.id}\n                  title={book.volumeInfo.title}\n                  authors={\n                    !book.volumeInfo.authors ? \"No author listed\" : book.volumeInfo.authors.join(\", \")\n                  }\n                  description={book.volumeInfo.description}\n                  link={book.volumeInfo.infoLink}\n                  image={\n                    !book.volumeInfo.imageLinks ? \"https://placehold.it/100x100\" : book.volumeInfo.imageLinks.thumbnail\n                  }\n\n                  Button={() => (\n                    <button\n                      onClick={() => handleSaveBook(book.id)}\n                      className=\"btn saveBtn\">\n                      Save\n                    </button>\n\n                  )}\n                />\n              ))}\n            </BookList>\n          </Col>\n        </Row>\n      </Container>\n    </>\n  );\n}\n\nexport default SearchPg;\n"]},"metadata":{},"sourceType":"module"}